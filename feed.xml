<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
<title type="text">Vikram Rao</title>
<generator uri="https://github.com/jekyll/jekyll">Jekyll</generator>
<link rel="self" type="application/atom+xml" href="http://raosvikram.github.io//feed.xml" />
<link rel="alternate" type="text/html" href="http://raosvikram.github.io/" />
<updated>2015-11-08T18:02:54-08:00</updated>
<id>http://raosvikram.github.io//</id>
<author>
  <name>Vikram Rao</name>
  <uri>http://raosvikram.github.io//</uri>
  
</author>


  

<entry>
  <title type="html"><![CDATA[Road trip]]></title>
  <link rel="alternate" type="text/html" href="http://raosvikram.github.io//roadtrip/" />
  <id>http://raosvikram.github.io//roadtrip</id>
  <published>2015-11-08T00:00:00-08:00</published>
  <updated>2015-11-08T00:00:00-08:00</updated>
  <author>
    <name>Vikram Rao</name>
    <uri>http://raosvikram.github.io/</uri>
    
  </author>
  <content type="html">
    &lt;p&gt;I recently had the wonderful opportunity to drive cross-country from upstate New
York to the San Francisco bay area as I moved out west from Cornell. I was alone
on the road for three weeks and went to 13 national parks, even sleeping in my
car at Yellowstone.&lt;/p&gt;

&lt;p&gt;A lot can be written about the diverse terrain of the USA and the mountainous
state highways of Montana with 70+ mph speed limits, but the trip was also a
great time to reflect and think about my priorities in life. I was incredibly
lucky to be able to take the time out for such a trip, and would highly
recommend it to everyone!&lt;/p&gt;

&lt;p&gt;If you’re planning something similar and are curious about the route I took and
where I spent each night, do play around with the map below. The blue pins are
clickable and represent my stops, and the map itself was generated by smoothing
GPS data collected using my phone.&lt;/p&gt;

&lt;p&gt; &lt;div id=&quot;map&quot;&gt;&lt;/div&gt; &lt;/p&gt;

&lt;p&gt;Perhaps I’ll write in more detail about the trip at a later time, including some
recommendations on good places to stay at each of the parks I went to:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Badlands&lt;/li&gt;
  &lt;li&gt;Wind Cave&lt;/li&gt;
  &lt;li&gt;Glacier&lt;/li&gt;
  &lt;li&gt;Yellowstone&lt;/li&gt;
  &lt;li&gt;Grand Teton&lt;/li&gt;
  &lt;li&gt;Arches&lt;/li&gt;
  &lt;li&gt;Canyonlands&lt;/li&gt;
  &lt;li&gt;Capitol Reef&lt;/li&gt;
  &lt;li&gt;Bryce Canyon&lt;/li&gt;
  &lt;li&gt;Zion&lt;/li&gt;
  &lt;li&gt;Death Valley&lt;/li&gt;
  &lt;li&gt;Sequoia&lt;/li&gt;
  &lt;li&gt;Kings Canyon&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;In the meanwhile, here are some pictures of the wondrous diversity in terrain
— from lush green meadows overlooking snow-clad peaks to rainbows in barren
deserts with natural rock formations.&lt;/p&gt;

&lt;figure&gt;
&lt;img src=&quot;http://raosvikram.github.io//images/road_trip_sample/glacier-grinnel-lake.jpg&quot; /&gt;
	&lt;figcaption&gt;Grinnel Lake, Glacier National Park&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure&gt;
&lt;img src=&quot;http://raosvikram.github.io//images/road_trip_sample/bryce-canyon-rainbow.jpg&quot; /&gt;
	&lt;figcaption&gt;Rainbow, on the way to Zion from Bryce Canyon National Park&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure&gt;
&lt;img src=&quot;http://raosvikram.github.io//images/road_trip_sample/death-valley-car.jpg&quot; /&gt;
	&lt;figcaption&gt;Death Valley National Park&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure&gt;
&lt;img src=&quot;http://raosvikram.github.io//images/road_trip_sample/death-valley-dune.jpg&quot; /&gt;
	&lt;figcaption&gt;Sand dunes through a crooked tree, Death Valley National Park&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure&gt;
&lt;img src=&quot;http://raosvikram.github.io//images/road_trip_sample/sequoia-bear.jpg&quot; /&gt;
	&lt;figcaption&gt;Napping bear, Sequoia National Park&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;style&gt;
  #map { width: 500px; height: 400px; }
&lt;/style&gt;

&lt;link rel=&quot;stylesheet&quot; href=&quot;../lib/c3.min.css&quot; /&gt;

&lt;link rel=&quot;stylesheet&quot; href=&quot;http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.css&quot; /&gt;

&lt;script src=&quot;http://raosvikram.github.io//assets/road_trip/lib/d3.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;http://raosvikram.github.io//assets/road_trip/lib/c3.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;http://raosvikram.github.io//assets/road_trip/lib/leaflet-providers.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;http://raosvikram.github.io//assets/road_trip/lib/douglas_peucker.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;http://raosvikram.github.io//assets/road_trip/lib/queue.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;

    function getMap() {
      var map = L.map(&#39;map&#39;).setView([42.4433,-76.5000], 4);
      var mapStyle = &#39;Esri.NatGeoWorldMap&#39;; // &#39;Esri.WorldStreetMap&#39;
      L.tileLayer.provider(mapStyle).addTo(map);
      return map;
    }

    /*
    * Modifies data in place to convert all values to numerical types.
    * @param data: { &quot;key1&quot;: &quot;val1&quot;, ... }
    */
    function toNumericTypes(data) {
      data.forEach(function(d) {
        d3.keys(d).forEach(function(k) {
          d[k] = +d[k];
        });
      });
    }

    function main() {
      var map = getMap();

      var locationsFile = &quot;http://raosvikram.github.io//assets/road_trip/data/road_trip_final.csv&quot;;
      var stopsFile = &quot;http://raosvikram.github.io//assets/road_trip/data/stops.json&quot;;
      queue()
      .defer(d3.csv, locationsFile)
      .defer(d3.json, stopsFile)
      .await(ready);

      function ready(error, data, stops) {
        if (error) {
          console.log(error);
        }

        toNumericTypes(data);
        var smoothedData = GDouglasPeucker(data, 10000);
        var smoothedLatLngs = smoothedData.map(function (x) { return L.latLng(x.lat, x.lng);});

        var polyline = L.polyline(smoothedLatLngs, {color: &#39;red&#39;}).addTo(map);
        stops.forEach(function (record) {
          var marker = L.marker([record[1], record[2]]).addTo(map);
          marker.bindPopup(record[0]);
        });
      };
    };
  &lt;/script&gt;

&lt;script&gt; main(); &lt;/script&gt;


    &lt;p&gt;&lt;a href=&quot;http://raosvikram.github.io//roadtrip/&quot;&gt;Road trip&lt;/a&gt; was originally published by Vikram Rao at &lt;a href=&quot;http://raosvikram.github.io/&quot;&gt;Vikram Rao&lt;/a&gt; on November 08, 2015.&lt;/p&gt;
  </content>
</entry>


  

<entry>
  <title type="html"><![CDATA[Generating Carnatic lyrics]]></title>
  <link rel="alternate" type="text/html" href="http://raosvikram.github.io//tyagaraga/" />
  <id>http://raosvikram.github.io//tyagaraga</id>
  <published>2015-11-07T00:00:00-08:00</published>
  <updated>2015-11-07T00:00:00-08:00</updated>
  <author>
    <name>Vikram Rao</name>
    <uri>http://raosvikram.github.io/</uri>
    
  </author>
  <content type="html">
    &lt;h2 id=&quot;background&quot;&gt;Background&lt;/h2&gt;

&lt;p&gt;On a long road trip in the Smoky Mountains in Tennessee, I was stuck behind a
lady driving at 30 mph on a 55 mph street. Being a law-abiding citizen who shuns
road rage, I vented out my frustration through a passionate and short
&lt;a href=&quot;https://en.wikipedia.org/wiki/Pallavi&quot;&gt;Pallavi&lt;/a&gt; in the raga
&lt;a href=&quot;http://www.ragasurabhi.com/carnatic-music/raga/raga--pantuvarali.html&quot;&gt;Pantuvarali&lt;/a&gt;
set to a &lt;a href=&quot;https://www.youtube.com/watch?v=0C9g3j4ysYc&quot;&gt;five beat cycle&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;nI bAdhamEmiTi ammA, nAku teliyarAda &lt;br /&gt;
What is your problem, lady? I do not comprehend it.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;While that made for a memorable few hours of improvisational music &lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;, what
struck me the most was that my friend was impressed with the realistic line I
had come up with. While coming up with a line appropriate to the situation
is definitely a hard problem, I felt it shouldn’t be very difficult to generate
coherent, realistic-sounding lines.&lt;/p&gt;

&lt;p&gt;In fact, the requirement of making semantic sense could be safely dropped
because:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;said friend didn’t speak Telugu and would’ve bought into anything that
sounded authentic.&lt;/li&gt;
  &lt;li&gt;the brain is great at filling gaps (or else most jokes wouldn’t work), and
even a moderately creative person will make sense of almost anything.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The rest of this post is about how I went about verifying this hunch.&lt;/p&gt;

&lt;h2 id=&quot;idea&quot;&gt;Idea&lt;/h2&gt;

&lt;p&gt;The simplest statistical model that can generate language is an &lt;a href=&quot;http://homepages.inf.ed.ac.uk/lzhang10/slm.html&quot;&gt;n-gram language
model&lt;/a&gt;. Such a model gobbles up
text and only remembers how often sequences of words occur together - it doesn’t
“understand” anything per se, and in addition, is restricted to short sequences
of words &lt;sup id=&quot;fnref:2&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;I should add that natural language processing is a decades-old field and the
current state of the art consists of vastly more superior methods &lt;sup id=&quot;fnref:3&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;. The flip
side is that these sophisticated methods require much more data than I had.&lt;/p&gt;

&lt;p&gt;The goal was then to train an n-gram language model using as many of Tyagaraja’s
compositions as I could lay my hands on and see what came out.&lt;/p&gt;

&lt;h2 id=&quot;challenges&quot;&gt;Challenges&lt;/h2&gt;

&lt;p&gt;A general challenge in using computational methods for classical works is that
they span multiple centuries and straddle many different cultural eras through
which the language itself would have evolved. In other words, the amount of data
available in a particular linguistic “era” is limited. The issue is worsened in
our case because &lt;a href=&quot;https://en.wikipedia.org/wiki/Carnatic_music&quot;&gt;carnatic music&lt;/a&gt;
was composed in multiple languages and the good folks who composed in
&lt;a href=&quot;https://en.wikipedia.org/wiki/Telugu_language&quot;&gt;Telugu&lt;/a&gt; passed away in the 18th
century, leaving behind only a precious few thousand compositions.&lt;/p&gt;

&lt;p&gt;In addition, there is no standard way of romanizing Indian languages, which
makes the data hard to clean and also adds to data sparsity (heuristics go only
so far in cleaning the data, and patience is a scarce resource!)&lt;/p&gt;

&lt;h2 id=&quot;implementation&quot;&gt;Implementation&lt;/h2&gt;

&lt;p&gt;I scraped many popular websites hosting carnatic music lyrics and picked the one
that was easiest to parse and most consistent. I then cleaned up the data a
little, but did not stem the words.&lt;/p&gt;

&lt;p&gt;I only had 700 songs and so didn’t prune the vocabulary. There were 13k words,
30k pairs and 33k triples. The lists of top n-grams will be of no surprise.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Top words: &lt;code&gt;rAma&lt;/code&gt;, &lt;code&gt;SrI&lt;/code&gt;, &lt;code&gt;tyAgarAja&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Top pairs: &lt;code&gt;SrI rAma&lt;/code&gt;, &lt;code&gt;tyAgarAja nuta&lt;/code&gt;, &lt;code&gt;rAma END&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Top triples: &lt;code&gt;tyAgarAja nuta END&lt;/code&gt;, &lt;code&gt;tyAgarAja vinuta END&lt;/code&gt;, &lt;code&gt;O manasA END&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;I wrote a node.js app which sampled &lt;sup id=&quot;fnref:4&quot;&gt;&lt;a href=&quot;#fn:4&quot; class=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt; from this trigram language model with
50% of the times and from the unigram distribution the rest of the times and
hosted it on Heroku. I also wanted the generated lyrics to be stored somewhere
so I eventually made a Twitter bot to tweet out lyrics every 15 minutes.&lt;/p&gt;

&lt;h2 id=&quot;sample-lyrics&quot;&gt;Sample lyrics&lt;/h2&gt;

&lt;p&gt;These samples span the full spectrum from profoundly philosophical to hilarious.
Translations provided courtesy yours truly.&lt;/p&gt;

&lt;p&gt;In the Kaliyuga, one can only achieve a cute name.&lt;/p&gt;
&lt;div class=&quot;embed twitter&quot;&gt;&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;tl&quot; dir=&quot;ltr&quot;&gt;sAdhiNcenE O nAma muddu kalilO .&lt;/p&gt;&amp;mdash; TyagaRaga (@TyagaRaga) &lt;a href=&quot;https://twitter.com/TyagaRaga/status/663444568390504448&quot;&gt;November 8, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;//platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;&lt;/div&gt;

&lt;p&gt;Rama having summoned someone like a tiger.&lt;/p&gt;
&lt;div class=&quot;embed twitter&quot;&gt;&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;und&quot; dir=&quot;ltr&quot;&gt;vyAghramu candamu pilacina rAma .&lt;/p&gt;&amp;mdash; TyagaRaga (@TyagaRaga) &lt;a href=&quot;https://twitter.com/TyagaRaga/status/641052354675085312&quot;&gt;September 8, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;//platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;&lt;/div&gt;

&lt;p&gt;Unable to see the swift power, easily wander and cross the town,
having felt like serving Garuda &lt;sup id=&quot;fnref:5&quot;&gt;&lt;a href=&quot;#fn:5&quot; class=&quot;footnote&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;div class=&quot;embed twitter&quot;&gt;&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;bs&quot; dir=&quot;ltr&quot;&gt;vEgamE jUDaka sahajamau tirugu dATi nagara garuDa sEva bhAviNci .&lt;/p&gt;&amp;mdash; TyagaRaga (@TyagaRaga) &lt;a href=&quot;https://twitter.com/TyagaRaga/status/644877140857606144&quot;&gt;September 18, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;//platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;&lt;/div&gt;

&lt;p&gt;While some of these are too contrived, others are simple and profound. Your help
is needed in following the twitter bot and liking the good lyrics. Kids need to
know that you can do cool stuff with “boring, midieval music”.&lt;/p&gt;

&lt;h2 id=&quot;tldr&quot;&gt;TL;DR&lt;/h2&gt;

&lt;p&gt;Computer generates lyrics similar to 18th century Indian classical music! Please
follow!&lt;/p&gt;

&lt;p&gt;&lt;a class=&quot;twitter-timeline&quot; href=&quot;https://twitter.com/TyagaRaga&quot; data-widget-id=&quot;663493534889046016&quot;&gt;Tweets by @TyagaRaga&lt;/a&gt;
&lt;script&gt;
  !function(d,s,id){
    var js,
        fjs=d.getElementsByTagName(s)[0],
        p=/^http:/.test(d.location)?&#39;http&#39;:&#39;https&#39;;
    if(!d.getElementById(id)){
      js=d.createElement(s);
      js.id=id;
      js.src=p+&quot;://platform.twitter.com/widgets.js&quot;;
      fjs.parentNode.insertBefore(js,fjs);
    }
  }(document,&quot;script&quot;,&quot;twitter-wjs&quot;);
&lt;/script&gt;&lt;/p&gt;

&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot;&gt;
      &lt;p&gt;with my musician friend doing the heavy lifting and me tagging along. &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot;&gt;

      &lt;p&gt;once you fix a set of &lt;script type=&quot;math/tex&quot;&gt;W&lt;/script&gt; words as your vocabulary, there can be
&lt;script type=&quot;math/tex&quot;&gt;W^k&lt;/script&gt; possible sequences of length &lt;script type=&quot;math/tex&quot;&gt;k&lt;/script&gt;, and this quickly becomes too
large to handle. &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:3&quot;&gt;
      &lt;p&gt;long short-term memory (LSTM) recurrent neural networks, for example. &lt;a href=&quot;#fnref:3&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:4&quot;&gt;

      &lt;p&gt;Do you know of the &lt;a href=&quot;http://www.keithschwarz.com/darts-dice-coins/&quot;&gt;Alias
method&lt;/a&gt; to efficiently sample
repeatedly from a discrete probability distribution? &lt;a href=&quot;#fnref:4&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:5&quot;&gt;
      &lt;p&gt;humanoid bird in Hindu mythology &lt;a href=&quot;#fnref:5&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;

    &lt;p&gt;&lt;a href=&quot;http://raosvikram.github.io//tyagaraga/&quot;&gt;Generating Carnatic lyrics&lt;/a&gt; was originally published by Vikram Rao at &lt;a href=&quot;http://raosvikram.github.io/&quot;&gt;Vikram Rao&lt;/a&gt; on November 07, 2015.&lt;/p&gt;
  </content>
</entry>

</feed>
